{"version":3,"sources":["components/NavBar.js","components/Info.js","components/ImageUploader.js","components/Explanation.js","App.js","index.js"],"names":["NavBar","react_default","a","createElement","className","href","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","target","rel","Info","ImageUploader","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","file","isLoading","result","onFormSubmit","bind","assertThisInitialized","onChange","e","_this2","preventDefault","FormData","append","setState","axios","post","headers","content-type","then","response","data","catch","error","console","log","_this3","isUploading","Resizer","imageFileResizer","files","uri","strImage","replace","spinner","role","src","alt","showSpinnerOrResults","onSubmit","name","htmlFor","disabled","React","Component","Explanation","App","components_ImageUploader","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.edddf1e0.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default function NavBar() {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n      <span className=\"navbar-brand\" href=\"#\">\r\n        Image Based Gender Predictor\r\n      </span>\r\n      <button\r\n        className=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-toggle=\"collapse\"\r\n        data-target=\"#navbarSupportedContent\"\r\n        aria-controls=\"navbarSupportedContent\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\"\r\n      >\r\n        <span className=\"navbar-toggler-icon\" />\r\n      </button>\r\n\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n        <ul className=\"navbar-nav mr-auto\">\r\n          <li className=\"nav-item active\">\r\n            <a\r\n              className=\"nav-link\"\r\n              href=\"https://github.com/savithcj/ImageBasedGenderPrediction\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              Repo\r\n            </a>\r\n          </li>\r\n          <li className=\"nav-item active\">\r\n            <a\r\n              className=\"nav-link\"\r\n              href=\"https://data.vision.ee.ethz.ch/cvl/rrothe/imdb-wiki/\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              Dataset\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Info() {\r\n  return (\r\n    <div className=\"container-fluid my-4\">\r\n      <h4 className=\"my-4\">Upload an image and get a gender prediction.</h4>\r\n      <p>\r\n        This website is a demo for a Convolutional Neural Network (CNN) model trained with the IMDB face images dataset.\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Resizer from \"react-image-file-resizer\";\r\nimport axios from \"axios\";\r\n\r\nconst APIUrl = \"https://baroque-saucisson-79648.herokuapp.com/prediction\";\r\n\r\nclass ImageUploader extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      file: null,\r\n      isLoading: false,\r\n      result: null\r\n    };\r\n    this.onFormSubmit = this.onFormSubmit.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n  onFormSubmit(e) {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"myImage\", this.state.file);\r\n    this.setState({ isLoading: true });\r\n    const config = {\r\n      headers: {\r\n        \"content-type\": \"image/jpeg\"\r\n      }\r\n    };\r\n    axios\r\n      .post(APIUrl, this.state.file, config)\r\n      .then(response => {\r\n        this.setState({ result: response.data });\r\n        this.setState({ isLoading: false });\r\n      })\r\n      .catch(error => {\r\n        console.log(\"API call failed.\");\r\n      });\r\n  }\r\n  onChange(e) {\r\n    this.setState({ isUploading: true });\r\n\r\n    Resizer.imageFileResizer(\r\n      e.target.files[0],\r\n      1000,\r\n      1000,\r\n      \"JPEG\",\r\n      60,\r\n      0,\r\n      uri => {\r\n        const strImage = uri.replace(/^data:image\\/[a-z]+;base64,/, \"\");\r\n        //if there was an error converting the image to string, set the file in the state to null\r\n        strImage !== \"File Not Found\" ? this.setState({ file: strImage }) : this.setState({ file: null });\r\n      },\r\n      \"base64\"\r\n    );\r\n    this.setState({ isUploading: false });\r\n  }\r\n\r\n  render() {\r\n    const spinner = (\r\n      <div className=\"spinner-border\" role=\"status\">\r\n        <span className=\"sr-only\">Loading...</span>\r\n      </div>\r\n    );\r\n\r\n    const result = this.state.result ? (\r\n      <img src={\"data:image/jpg;base64,\" + this.state.result} alt=\"failed to load\" className=\"img-fluid\" />\r\n    ) : null;\r\n\r\n    const showSpinnerOrResults = this.state.isLoading ? spinner : result;\r\n\r\n    return (\r\n      <div className=\"container-fluid my-5 text-center\">\r\n        <form onSubmit={this.onFormSubmit}>\r\n          <div className=\"input-group\">\r\n            <div className=\"custom-file\">\r\n              <input\r\n                type=\"file\"\r\n                className=\"custom-file-input\"\r\n                id=\"inputGroupFile04\"\r\n                name=\"myImage\"\r\n                onChange={this.onChange}\r\n              />\r\n              <label className=\"custom-file-label text-left\" htmlFor=\"inputGroupFile04\">\r\n                {this.state.file ? \"File selected\" : \"Select file to upload\"}\r\n              </label>\r\n            </div>\r\n            <div className=\"input-group-append\">\r\n              <button className=\"btn btn-outline-secondary\" type=\"submit\" disabled={!this.state.file}>\r\n                Upload\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n        <div className=\"container-fluid my-5\">{showSpinnerOrResults}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageUploader;\r\n","import React from \"react\";\r\n\r\nexport default function Explanation() {\r\n  return (\r\n    <div className=\"container-fluid my-4\">\r\n      <p>\r\n        When an image is uploaded, the site makes a call to a RESTful API. The API uses the{\" \"}\r\n        <a\r\n          href=\"https://docs.opencv.org/3.4.1/d7/d8b/tutorial_py_face_detection.html\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          OpenCV Haar Feature-based Cascade Classifier\r\n        </a>{\" \"}\r\n        to detect if a face is present in the uploaded image. Any detected faces are then evaluated for gender\r\n        classification using the CNN.\r\n      </p>\r\n      <p>\r\n        In the case that the Haar Cascade Classifier fails to detect any faces, the uploaded image will be returned\r\n        unchanged.\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\n\r\nimport NavBar from \"./components/NavBar\";\r\nimport Info from \"./components/Info\";\r\nimport ImageUploader from \"./components/ImageUploader\";\r\nimport Explanation from \"./components/Explanation\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <NavBar />\r\n      <Info />\r\n      <Explanation />\r\n      <ImageUploader />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nimport \"bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport \"bootstrap/dist/js/bootstrap.js\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}